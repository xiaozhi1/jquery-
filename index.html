<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>jquery-slide</title>

</head>
<script src="//code.jquery.com/jquery-1.9.1.min.js"></script>
<style>
    .images {
        display: flex;
        align-items: flex-start;
        transition: all 0.5s;
        border: 1px solid red;
    }
    .images>img {
        /* visibility: top; */
    }
    .window {
        border: 1px solid black;
        width: 300px;
        overflow: hidden;
    }
    .red {
        color: red;
    }
</style>
<body>
    <div class="window">
        <div class="images" id=images>
            <img src="https://shopmarijuana.com/wp-content/uploads/2016/04/black-dog-led-phytomax-600-600x600.jpg" width=300 alt="">
            <img src="https://gfp-2a3tnpzj.stackpathdns.com/wp-content/uploads/2016/07/Bernese-Mountain-Dog-600x600.jpg" width=300>
            <img src="https://www.what-dog.net/Images/faces2/scroll004.jpg" width=300>
        </div>
    </div>
    <span id=buttons>
        <span>第1张</span>
        <span>第2张</span>
        <span>第3张</span>
    </span>
</body>
<script>
    var allButtons = $('#buttons > span')
    for (let i = 0; i < allButtons.length; i++) {
        $(allButtons[i]).on('click', function (x) {
            var index = $(x.currentTarget).index()
            var p = index * -300
            $('#images').css({
                transform: 'translateX(' + p + 'px)'
            })
            n = index
            allButtons.eq(n)
                .addClass('red')
                .siblings('.red').removeClass('red')
        })
    }
    var n = 0;
    var size = allButtons.length
    allButtons.eq(n % size).trigger('click')
        .addClass('red')
        .siblings('.red').removeClass('red')
    //eq不用在allButtons前加$就能用了，  allButtons还是dom对象,不是jq对象，  eq会找出对应的dom，并把对应的dom封装成jQuery对象
    var timerId = setInterval(() => {
        n += 1
        allButtons.eq(n % size).trigger('click')
            .addClass('red')
            .siblings('.red').removeClass('red')
    }, 1000)
    $('.window').on('mouseenter', function () {
        window.clearInterval(timerId)
    })
    $('.window').on('mouseleave', function () {
        timerId = setInterval(() => {
            n += 1
            allButtons.eq(n % size).trigger('click')
                .addClass('red')
                .siblings('.red').removeClass('red')
        }, 1000)
    })
</script>

</html>